params:
  # you can specify namespaces here or pass them as a command line argument, it'd override the value here
  # e.g. `weaver registry generate  --registry=../semantic-conventions/model --templates=./templates go ./output --param included_namespaces="db,http"`
  # TODO -param as string slightly buggy - string inclusion is not the same as exact match with list element
  included_namespaces: []

templates:
  - template: vec.py.j2
    application_mode: each
    file_name: "{{ctx.root_namespace}}.py"
    filter: >
      semconv_grouped_metrics({"exclude_deprecated": true})
      | .[]
      | select (($included_namespaces | length == 0) or (.root_namespace as $ns | $included_namespaces | index($ns)))
  - template: empty.j2
    file_name: "__init__.py"
    application_mode: each
    filter: >
      semconv_grouped_metrics({"exclude_deprecated": true})
      | flatten
      | .[]
      | select (($included_namespaces | length == 0) or (.root_namespace as $ns | $included_namespaces | index($ns)))

acronyms: [TLS, RTT, DNS, SHA]

comment_formats:
  python:
    format: markdown
    prefix: "# "
    indent_first_level_list_items: true
    shortcut_reference_link: true
    trim: true
    remove_trailing_dots: true
    word_wrap:
      line_length: 80
  python2spc:
    format: markdown
    prefix: "  # "
    indent_first_level_list_items: true
    shortcut_reference_link: true
    trim: true
    remove_trailing_dots: true
    word_wrap:
      line_length: 80
default_comment_format: python

text_maps:
  python_instrument_type:
    counter: Counter
    histogram: Histogram
    updowncounter: Gauge
    gauge: Gauge
