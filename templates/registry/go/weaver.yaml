params:
  # you can specify namespaces here or pass them as a command line argument, it'd override the value here
  # e.g. `weaver registry generate  --registry=../semantic-conventions/model --templates=./templates go ./output --param included_namespaces="db,http"`
  # TODO -param as string slightly buggy - string inclusion is not the same as exact match with list element
  included_namespaces: []

templates:
  - template: vec.go.j2
    application_mode: each
    file_name: "{{ctx.root_namespace}}/metric.go"
    filter: >
      semconv_grouped_metrics({"exclude_deprecated": true})
      | .[]
      | select (($included_namespaces | length == 0) or (.root_namespace as $ns | $included_namespaces | index($ns)))
  - template: README.md.j2
    file_name: "{{ctx.root_namespace}}/README.md"
    application_mode: each
    filter: >
      semconv_grouped_metrics({"exclude_deprecated": true})
      | flatten
      | .[]
      | select (($included_namespaces | length == 0) or (.root_namespace as $ns | $included_namespaces | index($ns)))

acronyms: [TLS, RTT, DNS, SHA]

comment_formats:
  go:
    format: markdown
    prefix: "// "
    indent_first_level_list_items: true
    shortcut_reference_link: true
    trim: true
    remove_trailing_dots: true
  go_1tab:
    format: markdown
    prefix: "	// "
    indent_first_level_list_items: true
    shortcut_reference_link: true
    trim: true
    word_wrap:
      line_length: 80
default_comment_format: go

text_maps:
  go_instrument_type:
    counter: Counter
    histogram: Histogram
    updowncounter: Gauge
    gauge: Gauge
